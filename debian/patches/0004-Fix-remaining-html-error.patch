From 85e73b114c091ef2af87452beb3a0d48d6a06cf4 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Bastien=20ROUCARI=C3=88S?= <roucaries.bastien@gmail.com>
Date: Sat, 22 Mar 2014 12:29:15 +0100
Subject: [PATCH] Fix remaining html error
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Forwarded: Yes

Signed-off-by: Bastien ROUCARIÃˆS <roucaries.bastien@gmail.com>
---
 www/changelog.html            | 15 ++++++++-------
 www/command-line-options.html | 14 +++++++-------
 www/escape.html               |  2 +-
 www/jp2.html                  |  1 -
 www/search.html               |  1 -
 5 files changed, 16 insertions(+), 17 deletions(-)

diff --git a/www/changelog.html b/www/changelog.html
index fa865f9..8ff81d6 100644
--- a/www/changelog.html
+++ b/www/changelog.html
@@ -263,7 +263,7 @@
   <dd> Permit spaces in the gradient color specification (reference    http://www.imagemagick.org/discourse-server/viewtopic.html?f=3&amp;t=25614).</dd>
   <dd> Fix IdentifyImage() crash when image-&gt;magick member is null (reference    http://www.imagemagick.org/discourse-server/viewtopic.html?f=3&amp;t=25615).</dd>
   <dd> The -format M and Y channels are no longer reversed (reference    http://www.imagemagick.org/discourse-server/viewtopic.html?f=3&amp;t=25633).</dd>
-  <dd> Remove Makefile race condition where two targets attempt to install    magick-baseconfig.h (reference<dt>		http://git.buildroot.net/buildroot/commit/?id=7395ee9d3b88e45798143e05a28d6d4b51409130)</dt>
+  <dd> Remove Makefile race condition where two targets attempt to install    magick-baseconfig.h (reference http://git.buildroot.net/buildroot/commit/?id=7395ee9d3b88e45798143e05a28d6d4b51409130)</dd>
   <dd> Fix memory leak in BlobToStringInfo() (reference    http://www.imagemagick.org/discourse-server/viewtopic.html?f=3&amp;t=25639).</dd>
   <dd> In certain cases, -adaptive-sharpen failed to sharpen (reference    http://www.imagemagick.org/discourse-server/viewtopic.html?f=3&amp;t=23211</dd>
 <dt>2014-05-12  6.8.9-2 Dirk Lemstra &lt;dirk@snakeware...&gt;</dt>
@@ -1022,8 +1022,8 @@
 <dt>2012-09-22  6.7.9-7 Cristy  &lt;quetzlzacatenango@image...&gt;</dt>
   <dd> New version 6.7.9-7, SVN revision 9410.</dd>
 <dt>2012-09-20  6.7.9-7 Cristy  &lt;quetzlzacatenango@image...&gt;</dt>
-  <dd> jpeg:sampling-factor might be an image property or an option (reference<dt>http://www.imagemagick.org/discourse-server/viewtopic.html?f=2&amp;t=21884).</dt>
-  <dd><dt>2012-09-15  6.7.9-6 Cristy  &lt;quetzlzacatenango@image...&gt;</dt>
+  <dd> jpeg:sampling-factor might be an image property or an option (reference http://www.imagemagick.org/discourse-server/viewtopic.html?f=2&amp;t=21884).</dd>
+  <dd>2012-09-15  6.7.9-6 Cristy  &lt;quetzlzacatenango@image...&gt;</dd>
   <dd> New version 6.7.9-6, SVN revision 9375.</dd>
 <dt>2012-09-14  6.7.9-6 Cristy  &lt;quetzlzacatenango@image...&gt;</dt>
   <dd> Don't compand the YCC colorspace, its already companded.</dd>
@@ -1154,7 +1154,7 @@
 <dt>2012-07-02  6.7.8-2 Cristy  &lt;quetzlzacatenango@image...&gt;</dt>
   <dd> Set the colorspace to linear gray when reading intensity values (reference    http://www.imagemagick.org/discourse-server/viewtopic.html?f=3&amp;t=21362).</dd>
   <dd> Don't overrun pixel buffer on inverse fourier for odd image widths.</dd>
-  <dd> Change LAB encoding to permit blurring, resize, etc.    (signed A and B channel values now stored using a 50% bias)</dd>
+  <dd> Change LAB encoding to permit blurring, resize, etc.    (signed A and B channel values now stored using a 50% bias)
     Additional.. This removes a non-linear discontinuity from stored LAB space    values. As a result you can now Blur, Compose, Resize and Distort in LAB    colorspace, without problems that previously existed.</dd>
 <dt>2012-07-04  6.7.8-1 Cristy  &lt;quetzlzacatenango@image...&gt;</dt>
   <dd> New version 6.7.8-1, SVN revision 8595.</dd>
@@ -2133,7 +2133,7 @@
   <dd> Switch default resize filters to using the faster SincPolynomial    filter by default internally.  However 'Sinc' will still use the    Trigonometric function, and can be used to assign the trig version    of Sinc() to filters using the filter expert options.</dd>
   <dd> The default filter for 'distort' was found to be a very blurry inaccurate    filter function.  It was removed and replaced with a correct Gaussian    filter (as used by resize)</dd>
   <dd> Added a switch so that "-interpolate filter" will force the use of    a cylindrical filter for ALL pixels in distorted images.  That is you can    use that switch to use a cylindrical filter even for images that are    being enlarged by the distortion.  However EWA is still currently using    a fixed 2.0 sampling radius.  This switch complements the use of "-filter    point" which turns off EWA filters in favor of interpolation for all    pixels in a distorted image.  BOTH switches should not be used together.</dd>
-  <dd> A bug in the support radius of the EWA resampling function was found,    now that correctly defined resize filters are being used. Suddenly Normal    Gaussian distortions are not so blurry, and tests with distortions of    the 'Rings' image show extremely good and clear results, with only minimal    blurring.  The filter 'blur' expert option can be used to adjust this    further.</dd>
+  <dd> A bug in the support radius of the EWA resampling function was found,    now that correctly defined resize filters are being used. Suddenly Normal    Gaussian distortions are not so blurry, and tests with distortions of    the 'Rings' image show extremely good and clear results, with only minimal    blurring.  The filter 'blur' expert option can be used to adjust this    further.
     The above represents a major improvement forward in the quality of the    image distortion operator. But near-unity distortions (no scaling) are    still overly blurry.</dd>
 <dt>2010-09-13  6.6.4-2 Cristy  &lt;quetzlzacatenango@image...&gt;</dt>
   <dd> Don't negate the geometry offset for the -extent option.</dd>
@@ -2531,8 +2531,9 @@
 <dt>2009-10-10  6.5.7-0 Anthony Thyssen &lt;A.Thyssen@griffith...&gt;</dt>
   <dd> Bug Fixes for degenerate 'affine' cases of BilinearForward distortion.</dd>
 <dt>2009-10-06  6.5.6-10 Cristy  &lt;quetzlzacatenango@image...&gt;</dt>
-  <dd> Declare the  MagickCore method SpliceImage() in Magick++/Include.h.</dd>
-    QueueCacheViewAuthenticPixels() for the CopyComposite optimization.<dt>2009-10-04  6.5.6-9 Cristy  &lt;quetzlzacatenango@image...&gt;</dt>
+  <dd> Declare the  MagickCore method SpliceImage() in Magick++/Include.h.
+    QueueCacheViewAuthenticPixels() for the CopyComposite optimization.</dd>
+<dt>2009-10-04  6.5.6-9 Cristy  &lt;quetzlzacatenango@image...&gt;</dt>
   <dd> Use GetCacheViewAuthenticPixels() rather than</dd>
   <dd> QueueCacheViewAuthenticPixels() for the CopyComposite optimization.</dd>
 <dt>2009-10-03  6.5.6-8 Nick Wellnhofer &lt;wellnhofer@aevum...&gt;</dt>
diff --git a/www/command-line-options.html b/www/command-line-options.html
index c372573..7d555fb 100644
--- a/www/command-line-options.html
+++ b/www/command-line-options.html
@@ -992,7 +992,7 @@ symbol is no different than leaving it off.</p>
 
 <table style='background-color:#FFFFE0; margin-left:40px; margin-right:40px; width:88%'><tr><td style='width:75%'>Canny edge detector uses a multi-stage algorithm to detect a wide range of edges in the image.</td><td style='text-align:right;'></td></tr></table>
 
-<p>The thresholds range from 0 to 100% (e.g. -canny 0x1+10%+30%) with {<em class="arg">+lower-percent</em>} < {<em class="arg">+upper-percent</em>}. If {<em class="arg">+upper-percent</em>} is increased but {<em class="arg">+lower-percent</em>} remains the same, lesser edge components will be detected, but their lengths will be the same. If {<em class="arg">+lower-percent</em>} is increased but {<em class="arg">+upper-percent</em>} is the same, the same number of edge components will be detected but their lengths will be shorter. The default thresholds are shown. The <em class="arg">radius</em>x<em class="arg">sigma</em> controls a gaussian blur applied to the input image to reduce noise and smooth the edges.</p>
+<p>The thresholds range from 0 to 100% (e.g. -canny 0x1+10%+30%) with {<em class="arg">+lower-percent</em>} {<em class="arg">+upper-percent</em>}. If {<em class="arg">+upper-percent</em>} is increased but {<em class="arg">+lower-percent</em>} remains the same, lesser edge components will be detected, but their lengths will be the same. If {<em class="arg">+lower-percent</em>} is increased but {<em class="arg">+upper-percent</em>} is the same, the same number of edge components will be detected but their lengths will be shorter. The default thresholds are shown. The <em class="arg">radius</em>x<em class="arg">sigma</em> controls a gaussian blur applied to the input image to reduce noise and smooth the edges.</p>
 
 <div style="margin: auto;">
   <h4><a id="caption"></a>-caption <em class="arg">string</em></h4>
@@ -2069,23 +2069,23 @@ available:</p>
 
 <dt>jp2:progression-order=<em class="arg">value</em></dt>
     <dd>choose from LRCP, RLCP, RPCL, PCRL or CPRL. Same for JPT, JC2, and 
-    J2K</dd></dd>
+    J2K</dd>
 
 <dt>jp2:quality=<em class="arg">value,value...</em></dt>
     <dd>Sets the quality layer PSNR, given in dB. The order is from left to 
     right in ascending order. The default is a single lossless quality layer.  
-    Same for JPT, JC2, and J2K</dd></dd>
+    Same for JPT, JC2, and J2K</dd>
 
 <dt>jp2:rate=<em class="arg">value</em></dt>
     <dd>Specify the compression factor to use while writing JPEG-2000 files. The
     compression factor is the reciprocal of the compression ratio. The valid
     range is 0.0 to 1.0, with 1.0 indicating lossless compression. If defined,
     this value overrides the -quality setting.  A quality setting of 75
-    results in a rate value of 0.06641. Same for JPT, JC2, and J2K</dd></dd>
+    results in a rate value of 0.06641. Same for JPT, JC2, and J2K</dd>
 
 <dt>jp2:reduce-factor=<em class="arg">value</em></dt>
     <dd>Sets the number of highest resolution levels to be discarded.Same for 
-    JPT, JC2, and J2K</dd></dd>
+    JPT, JC2, and J2K</dd>
 
 <dt>jpeg:block-smoothing=<em class="arg">on|off</em></dt>
 
@@ -4485,9 +4485,9 @@ mapping. </p>
 
 <p>Use the Hough line detector with any binary edge extracted image to locate and draw any straight lines that it finds.</p>
 
-<p>The process accumulates counts for every white pixel in the binary edge image for every possible orientation (for angles from 0 to 179 in 1 deg increments) and distance from the center of the image to the corners (in 1 px increments). It stores the counts in an accumulator matrix of angle vs distance. The size of the accumulator will be 180x(diagonal/2). Next it searches the accumulator for peaks in counts and converts the locations of the peaks to slope and intercept in the normal x,y input image space. The algorithm uses slope/intercepts to find the endpoints clipped to the bounds of the image. The lines are drawn from the given endpoints. The counts are a measure of the length of the lines.</p.
+<p>The process accumulates counts for every white pixel in the binary edge image for every possible orientation (for angles from 0 to 179 in 1 deg increments) and distance from the center of the image to the corners (in 1 px increments). It stores the counts in an accumulator matrix of angle vs distance. The size of the accumulator will be 180x(diagonal/2). Next it searches the accumulator for peaks in counts and converts the locations of the peaks to slope and intercept in the normal x,y input image space. The algorithm uses slope/intercepts to find the endpoints clipped to the bounds of the image. The lines are drawn from the given endpoints. The counts are a measure of the length of the lines.</p>.
 
-<p>The WxH arguments specify the filter size for locating the peaks in the Hough accumulator. The threshold excludes lines whose counts are less than the threshold value.<p>
+<p>The WxH arguments specify the filter size for locating the peaks in the Hough accumulator. The threshold excludes lines whose counts are less than the threshold value.</p>
 
 <p>Use <code><a href="command-line-options.html#background" >-background</a></code> to specify the color of the background onto which the lines will be drawn. The default is black.</p>
 
diff --git a/www/escape.html b/www/escape.html
index 2607c4c..8d67299 100644
--- a/www/escape.html
+++ b/www/escape.html
@@ -228,7 +228,7 @@
 
 <div class="main">
 
-<h1>ImageMagick Escapes</h1><p class="navigation-index"></p><div class="doc-section"><p>There is a copious amount of extra data assocated with images (metadata), beyond the actual image pixels. This metadata can be useful, either fordisplay, or for various calculations, or in modifying the behaviour of laterimage processing operations.</p><p>You can utilize percent escapes in a number of options, for example in <a href="command-line-options.html#format_identify_">-format</a> or in montage <a href="command-line-options.html#label">-label</a>, to print various properties and other settings associated with animage. </p><table><tr valign="top">    <td><b>Profile Data</b></td>    <td>Such as EXIF: data, containing focal lengths, exposures, dates, and in        come cases GPS locations.    </td></tr><tr valign="top">    <td><b>Attributes</b></td>    <td>These are directly involved with image data, and more commonly        modified as part of normal image processing.  These include        width, height, depth, image type (colorspace), timing delays, and        background color. Most specific percent escapes is to access this        information.    </td></tr><tr valign="top">    <td><b>Properties</b></td>    <td>These are stored as a table of free form strings, and are (if posible)        saved with the image (especially in MIFF and PNG image file formats).        These include: Labels, Captions, Comments.    </td></tr><tr valign="top">    <td><b>Artifacts</b></td>    <td>These are various operational (expert) settings that are saved for        use by various operators, or by the user for future use.  It is just        a table of free-form strings.  They are not saved with the image when        written.  See Artifacts and Options below for details.    </td></tr><tr valign="top">    <td><b>Options</b></td>    <td>Also operational (expert) settings that are saved for        use by various operators, but are set globally for use by a whole        image list (also not saved).  See Artifacts and Options below.    </td></tr></table><h3>Percent Escape Handling</h3><p>If you request a percent escape such as <code>%[key]</code> the settingis looked for in the following order until the first match has beenfound...</p><ol><li>Handle special prefixes such as 'artifact:' 'option:' 'exif:', or    'fx:'.  This includes and calculations and or globs of those prefixes such    as 'exif:*' or 'artifact:*' (see below).</li><li>If <code>key</code> contains a glob pattern (but no known prefix)    search free-form properties table.</li><li>If <code>key</code> is a special image 'attribute' name (see list    above) return the associated or calculated image attribute.</li><li>Search for setting as a free-form 'property'</li><li>Search for setting as a free-form 'artifact'</li><li>Search for setting as a free-form 'option'</li><li>Replace escape with empty string, and perhaps produce a warning.</li></ol><p>Remember, all long name forms of percent escapes are handled in a is caseinsensitive manner. </p><p><b>As of IM v6.8.0-5</b> you can now access the Artifact and Optionfree-form string tables directly, allowing you to override the above sequence,and avoid accessing an attribute or property of the same name.</p><pre class="text">   %[artifact:<em class="arg">setting</em>]   %[option:<em class="arg">setting</em>]</pre><h3>Single Letter Attribute Percent Escapes</h3><p>Here are common single letter escapes (short form) is used to report the mostcommon attributes and properties of an image, such as: the image filenamefilename, type, width, height. </p><pre class="text">   \n   newline   \r   carriage return   &lt;    less-than character.   &gt;    greater-than character.   &amp;    ampersand character.   %%   a percent sign   %b   file size of image read in   %c   comment meta-data property   %d   directory component of path   %e   filename extension or suffix   %f   filename (including suffix)   %g   layer canvas page geometry   (equivalent to "%Wx%H%X%Y")   %h   current image height in pixels   %i   image filename (note: becomes output filename for "info:")   %k   CALCULATED: number of unique colors   %l   label meta-data property   %m   image file format (file magic)   %n   number of images in current image sequence   %o   output filename  (used for delegates)   %p   index of image in current image list   %q   quantum depth (compile-time constant)   %r   image class and colorspace   %s   scene number (from input unless re-assigned)   %t   filename without directory or extension (suffix)   %u   unique temporary filename (used for delegates)   %w   current width in pixels   %x   x resolution (density)   %y   y resolution (density)   %z   image depth (as read in unless modified, image save depth)   %A   image transparency channel enabled (true/false)   %C   image compression type   %D   image GIF dispose method   %G   original image size (%wx%h; before any resizes)   %H   page (canvas) height   %M   Magick filename (original file exactly as given,  including read mods)   %O   page (canvas) offset ( = %X%Y )   %P   page (canvas) size ( = %Wx%H )   %Q   image compression quality ( 0 = default )   %S   ?? scenes ??   %T   image time delay (in centi-seconds)   %U   image resolution units   %W   page (canvas) width   %X   page (canvas) x offset (including sign)   %Y   page (canvas) y offset (including sign)   %Z   unique filename (used for delegates)   %@   CALCULATED: trim bounding box (without actually trimming)   %#   CALCULATED: 'signature' hash of image values</pre><p>Here is a sample command and its output for an image with filename<code>bird.miff</code> and whose width is 512 and height is 480.</p><p class='crt'><span class="crtprompt"> $ </span><span class='crtin'>identify -format "%m:%f %wx%h" bird.miff</span><span class='crtout'>MIFF:bird.miff 512x480</span></p><p>Note that all single letter percent escapes can also be used using longform (from IM version 6.7.6-9, see next). For example <code>%[f]</code> isequivelent to the <code>%f</code> short form. </p><p><b>WARNING</b> short form percent escapes are NOT performed when the percentis after a number.  For example..   <code>10%x10</code> will not expand the<code>%x</code> as a percent escape.  If you specifically want to expanded the'x', use the long form which overrides this special case. EG:<code>10%[x]10</code>. </p><p>Also be warned that calculated attributes can take some time to generate,especially for large images.</p><h3>Long Form Attribute Percent Escapes</h3><p>In addition to the above specific and calculated attributes are recognizedwhen enclosed in braces (long form):</p><pre class="text">   %[base]                 base filename, no suffixes (as %t)   %[channels]             ??? channels in use - colorspace ???   %[colorspace]           Colorspace of Image Data (excluding transparency)   %[copyright]            ImageMagick Copyright String   %[depth]                depth of image for write (as input unless changed)   %[deskew:angle]         The deskew angle in degrees of rotation   %[directory]            directory part of filename (as %d)   %[distortion]           how well an image resembles a reference image (<a href="command-line-options.html#compare" >-compare</a>)   %[extension]            extention part of filename (as %e)   %[gamma]                value of image gamma   %[group]                ??? window group ???   %[height]               original height of image (when it was read in)   %[kurtosis]             CALCULATED: kurtosis statistic of image   %[label]                label meta-data property   %[magick]               coder used to read image (not the file suffix)   %[max]                  CALCULATED: maximum value statistic of image   %[maxima]               CALCULATED: maximum value statistic of image   %[mean]                 CALCULATED: average value statistic of image   %[min]                  CALCULATED: minimum value statistic of image   %[minima]               CALCULATED: minimum value statistic of image   %[name]                 The original name of the image   %[opaque]               CALCULATED: is image fully-opaque?   %[orientation]          image orientation   %[page]                 Virtual canvas (page) geometry   %[profile:icc]          ICC profile info   %[profile:icm]          ICM profile info   %[profiles]             list of any embedded profiles   %[resolution.x]         X density (resolution) without units   %[resolution.y]         Y density (resolution) without units   %[scene]                original scene number of image in input file   %[size]                 original size of image (when it was read in)   %[skewness]             CALCULATED: skewness statistic of image   %[standard-deviation]   CALCULATED: standard deviation statistic of image   %[standard_deviation]   CALCULATED: standard deviation statistic of image   %[type]                 CALCULATED: image type   %[unique]               unique temporary filename ???   %[units]                image resolution units   %[version]              Version Information of this running ImageMagick   %[width]                original width of image (when it was read in)   %[zero]                 zero (unique filename for delegate use)</pre><h3>Properties</h3><p>All other long forms of percent escapes (not single letter long form) arehandled in a case insensitive manner. Such escapes will will attempt to lookup that name specific data sources. </p><p>The primary search space (if not a specific attribute listed above) isa free-form property string.  Such strings are associated and saved withimages, and are typically set using either the <a href="command-line-options.html#set" >-set</a>CLI option (or API equivelent), or from special convenience options(such as <a href="command-line-options.html#label">-label</a>, <a href="command-line-options.html#comment">-comment</a>, <a href="command-line-options.html#caption">-caption</a>). </p><p>These convenience options are globally saved (as 'global options' so thay canbe set before images are read), and later are transfered to the property ofindividual images, only when they are read in. At that time any internalpercent escape present is then handled. </p><p>To change a property of an image already in memory, you need to use <ahref="command-line-options.html#set" >-set</a>.</p><p>Note that properties, like attributes (and profiles), are saved withimages when write, if the image file format allows. </p><h3>Artifacts and Options</h3><p>The previous percent escapes are associated with the primary Attributes andProperties. Which is the original and primary focus of such percent escapes.</p><p>However there are many operational settings that are used by variousImageMagick operators that can be useful to set and later access.  Theseconsist of per-image Artifacts, and Global options (associated with a list ofimages, typically the current image list).</p><p>Note that the major difference between an artifact and a property is thatartifacts, being an internal operational setting, is not saved with images (ifsuch is possible). </p><p>For example when you use <code>-define 'distort:viewport=100x100'</code> youare in fact generating a global option, which the <a href="command-line-options.html#distort">-distort</a> operator will use to modify its behaviour (distorted outputimage 'view'). </p><p>An Option is essentually a Artifact that has been stored globally as partof a list of images (specifically a 'Wand' of images). As such they areidentical, in that a Option, is simply a global Artifact for all theassociated images. </p><p>As such you can use <code>-set 'option:distort:viewport' '100x100'</code> toachieve the same result of setting a Artifact for the disort operation to use.</p><p><b>Internal Handling of a Global Option...</b></p><p>The Core library ('MagickCore') does not generally directly understandGlobal Options. As such, continuing the previous example, the<code>DistortImages()</code> function only looks up an artifact to discover ifa 'viewport' has been provided to it. </p><p>How Global Options are used when a library function requests an Artifact isone of the key differences between IMv6 and IMv7.</p><p>In <b>ImageMagick version 6</b>... before each operator, any global Optionsare copied to per-image Artifacts, for every image in the current image list.This allows various operators to find its operational 'defines' or Artifacts.</p><p>In <b>ImageMagick version 7</b>... sets a link back to the global optionsdata, so that if a specific per-image Artifact is not found , then it willlook for a equivelent global Option for that image list.  directly.  Thissaves coping these free-form options into artifacts repeatally, and means youcan now separally define a global option for a list, and a individualoverriding artifact for a specific image in that list. </p><p>Note that many API's that do not use Wands (PerlMagick for example usingarrays of images rather than a Wand). In these API's you will not have GlobalOptions, only per-image Artifacts. </p><p>In summery a Global Option, if available, is equivelent to a per-imageArtifact. </p><h3>Glob-Pattern Listing of Properties, Artifacts and Options</h3><p>The <em class="arg">setting</em> can contain a glob pattern. As such you cannow list all free-form string properties, artifacts, and options, (but notspecific image attributes) using...</p><pre class="text">  convert ... \          -print "__Properties__\n%[*]" \          -print "__Artifacts__\n%[artifact:*]" \          -print "__Options__\n%[option:*]" \          ...</pre><!--  This does not format right!<p class='crt'><span class="crtprompt"> $ </span><span class='crtin'>convert ... \ </span><span class='crtout'>        -print "__Properties__\n%[*]" \ </span><span class="crtprompt"> $ </span><span class='crtin'>        -print "__Artifacts__\n%[artifact:*]" \ </span><span class='crtout'>        -print "__Options__\n%[option:*]" \ </span><span class="crtprompt"> $ </span><span class='crtin'>        ...</span></p>--><p> The format of glob patterns are very specific and as such is generallyonly used to list specific settings, such as when debugging, rather than beingused for image processing use. </p><h3>Calculated Percent Escape Prefixes</h3><p>There are some special prefixes (before the first ':') which performscalculations based on the user provided string that follows that prefix.  Forexample you can do a numerical calculation use <code>%[fx:...]</code> toevaluate the given <a href="fx.html">FX</a> expressions:</p><pre class="text">   %[fx:<em class="arg">expression</em>]</pre><p>Use <code>pixel:</code> to evaluate a pixel color as defined by the <ahref="fx.html">FX</a>expression:</p><pre class="text">   %[pixel:<em class="arg">expression</em>]</pre><h3>Specific Profile Percent Escape Prefixes</h3><p>You can also use the following special formatting syntax to print EXIFmage meta-data that was included in the image read in:</p><pre class="text">   %[EXIF:<em class="arg">tag</em>]</pre><p>Choose <em class="arg">tag</em> from the following:</p><pre class="text">   *  (print all EXIF tags, in keyword=data format)   !  (print all EXIF tags, in tag_number data format)   #hhhh (print data for EXIF tag #hhhh)   ImageWidth   ImageLength   BitsPerSample   Compression   PhotometricInterpretation   FillOrder   DocumentName   ImageDescription   Make   Model   StripOffsets   Orientation   SamplesPerPixel   RowsPerStrip   StripByteCounts   XResolution   YResolution   PlanarConfiguration   ResolutionUnit   TransferFunction   Software   DateTime   Artist   WhitePoint   PrimaryChromaticities   TransferRange   JPEGProc   JPEGInterchangeFormat   JPEGInterchangeFormatLength   YCbCrCoefficients   YCbCrSubSampling   YCbCrPositioning   ReferenceBlackWhite   CFARepeatPatternDim   CFAPattern   BatteryLevel   Copyright   ExposureTime   FNumber   IPTC/NAA   EXIFOffset   InterColorProfile   ExposureProgram   SpectralSensitivity   GPSInfo   ISOSpeedRatings   OECF   EXIFVersion   DateTimeOriginal   DateTimeDigitized   ComponentsConfiguration   CompressedBitsPerPixel   ShutterSpeedValue   ApertureValue   BrightnessValue   ExposureBiasValue   MaxApertureValue   SubjectDistance   MeteringMode   LightSource   Flash   FocalLength   MakerNote   UserComment   SubSecTime   SubSecTimeOriginal   SubSecTimeDigitized   FlashPixVersion   ColorSpace   EXIFImageWidth   EXIFImageLength   InteroperabilityOffset   FlashEnergy   SpatialFrequencyResponse   FocalPlaneXResolution   FocalPlaneYResolution   FocalPlaneResolutionUnit   SubjectLocation   ExposureIndex   SensingMethod   FileSource   SceneType</pre><p>Surround the format specification with quotation marks to prevent yourshell from misinterpreting any spaces and square brackets.</p><p>The following special formatting syntax can be used to print IPTCinformation contained in the file:</p><pre class="text">   %[IPTC:<em class="arg">dataset</em>:<em class="arg">record</em>]</pre><p>Select <em class="arg">dataset</em> and <em class="arg">record</em> fromthe following:</p><pre class="text">    Envelope Record      1:00  Model Version      1:05  Destination      1:20  File Format      1:22  File Format Version      1:30  Service Identifier      1:40  Envelope Number      1:50  Product ID      1:60  Envelope Priority      1:70  Date Sent      1:80  Time Sent      1:90  Coded Character Set      1:100  UNO (Unique Name of Object)      1:120  ARM Identifier      1:122  ARM Version    Application Record      2:00  Record Version      2:03  Object Type Reference      2:05  Object Name (Title)      2:07  Edit Status      2:08  Editorial Update      2:10  Urgency      2:12  Subject Reference      2:15  Category      2:20  Supplemental Category      2:22  Fixture Identifier      2:25  Keywords      2:26  Content Location Code      2:27  Content Location Name      2:30  Release Date      2:35  Release Time      2:37  Expiration Date      2:38  Expiration Time      2:40  Special Instructions      2:42  Action Advised      2:45  Reference Service      2:47  Reference Date      2:50  Reference Number      2:55  Date Created      2:60  Time Created      2:62  Digital Creation Date      2:63  Digital Creation Time      2:65  Originating Program      2:70  Program Version      2:75  Object Cycle      2:80  By-Line (Author)      2:85  By-Line Title (Author Position) [Not used in Photoshop 7]      2:90  City      2:92  Sub-Location      2:95  Province/State      2:100  Country/Primary Location Code      2:101  Country/Primary Location Name      2:103  Original Transmission Reference      2:105  Headline      2:110  Credit      2:115  Source      2:116  Copyright Notice      2:118  Contact      2:120  Caption/Abstract      2:122  Caption Writer/Editor      2:125  Rasterized Caption      2:130  Image Type      2:131  Image Orientation      2:135  Language Identifier      2:150  Audio Type      2:151  Audio Sampling Rate      2:152  Audio Sampling Resolution      2:153  Audio Duration      2:154  Audio Outcue      2:200  ObjectData Preview File Format      2:201  ObjectData Preview File Format Version      2:202  ObjectData Preview Data    Pre-ObjectData Descriptor Record      7:10   Size Mode      7:20   Max Subfile Size      7:90   ObjectData Size Announced      7:95   Maximum ObjectData Size    ObjectData Record      8:10   Subfile    Post ObjectData Descriptor Record      9:10   Confirmed ObjectData Size</pre></div>
+<h1>ImageMagick Escapes</h1><p class="navigation-index"></p><div class="doc-section"><p>There is a copious amount of extra data assocated with images (metadata), beyond the actual image pixels. This metadata can be useful, either fordisplay, or for various calculations, or in modifying the behaviour of laterimage processing operations.</p><p>You can utilize percent escapes in a number of options, for example in <a href="command-line-options.html#format_identify_">-format</a> or in montage <a href="command-line-options.html#label">-label</a>, to print various properties and other settings associated with animage. </p><table><tr valign="top">    <td><b>Profile Data</b></td>    <td>Such as EXIF: data, containing focal lengths, exposures, dates, and in        come cases GPS locations.    </td></tr><tr valign="top">    <td><b>Attributes</b></td>    <td>These are directly involved with image data, and more commonly        modified as part of normal image processing.  These include        width, height, depth, image type (colorspace), timing delays, and        background color. Most specific percent escapes is to access this        information.    </td></tr><tr valign="top">    <td><b>Properties</b></td>    <td>These are stored as a table of free form strings, and are (if posible)        saved with the image (especially in MIFF and PNG image file formats).        These include: Labels, Captions, Comments.    </td></tr><tr valign="top">    <td><b>Artifacts</b></td>    <td>These are various operational (expert) settings that are saved for        use by various operators, or by the user for future use.  It is just        a table of free-form strings.  They are not saved with the image when        written.  See Artifacts and Options below for details.    </td></tr><tr valign="top">    <td><b>Options</b></td>    <td>Also operational (expert) settings that are saved for        use by various operators, but are set globally for use by a whole        image list (also not saved).  See Artifacts and Options below.    </td></tr></table><h3>Percent Escape Handling</h3><p>If you request a percent escape such as <code>%[key]</code> the settingis looked for in the following order until the first match has beenfound...</p><ol><li>Handle special prefixes such as 'artifact:' 'option:' 'exif:', or    'fx:'.  This includes and calculations and or globs of those prefixes such    as 'exif:*' or 'artifact:*' (see below).</li><li>If <code>key</code> contains a glob pattern (but no known prefix)    search free-form properties table.</li><li>If <code>key</code> is a special image 'attribute' name (see list    above) return the associated or calculated image attribute.</li><li>Search for setting as a free-form 'property'</li><li>Search for setting as a free-form 'artifact'</li><li>Search for setting as a free-form 'option'</li><li>Replace escape with empty string, and perhaps produce a warning.</li></ol><p>Remember, all long name forms of percent escapes are handled in a is caseinsensitive manner. </p><p><b>As of IM v6.8.0-5</b> you can now access the Artifact and Optionfree-form string tables directly, allowing you to override the above sequence,and avoid accessing an attribute or property of the same name.</p><pre class="text">   %[artifact:<em class="arg">setting</em>]   %[option:<em class="arg">setting</em>]</pre><h3>Single Letter Attribute Percent Escapes</h3><p>Here are common single letter escapes (short form) is used to report the mostcommon attributes and properties of an image, such as: the image filenamefilename, type, width, height. </p><pre class="text">   \n   newline   \r   carriage return   &lt;    less-than character.   &gt;    greater-than character.   &amp;    ampersand character.   %%   a percent sign   %b   file size of image read in   %c   comment meta-data property   %d   directory component of path   %e   filename extension or suffix   %f   filename (including suffix)   %g   layer canvas page geometry   (equivalent to "%Wx%H%X%Y")   %h   current image height in pixels   %i   image filename (note: becomes output filename for "info:")   %k   CALCULATED: number of unique colors   %l   label meta-data property   %m   image file format (file magic)   %n   number of images in current image sequence   %o   output filename  (used for delegates)   %p   index of image in current image list   %q   quantum depth (compile-time constant)   %r   image class and colorspace   %s   scene number (from input unless re-assigned)   %t   filename without directory or extension (suffix)   %u   unique temporary filename (used for delegates)   %w   current width in pixels   %x   x resolution (density)   %y   y resolution (density)   %z   image depth (as read in unless modified, image save depth)   %A   image transparency channel enabled (true/false)   %C   image compression type   %D   image GIF dispose method   %G   original image size (%wx%h; before any resizes)   %H   page (canvas) height   %M   Magick filename (original file exactly as given,  including read mods)   %O   page (canvas) offset ( = %X%Y )   %P   page (canvas) size ( = %Wx%H )   %Q   image compression quality ( 0 = default )   %S   ?? scenes ??   %T   image time delay (in centi-seconds)   %U   image resolution units   %W   page (canvas) width   %X   page (canvas) x offset (including sign)   %Y   page (canvas) y offset (including sign)   %Z   unique filename (used for delegates)   %@   CALCULATED: trim bounding box (without actually trimming)   %#   CALCULATED: 'signature' hash of image values</pre><p>Here is a sample command and its output for an image with filename<code>bird.miff</code> and whose width is 512 and height is 480.</p><p class='crt'><span class="crtprompt"> $ </span><span class='crtin'>identify -format "%m:%f %wx%h" bird.miff</span><span class='crtout'>MIFF:bird.miff 512x480</span></p><p>Note that all single letter percent escapes can also be used using longform (from IM version 6.7.6-9, see next). For example <code>%[f]</code> isequivelent to the <code>%f</code> short form. </p><p><b>WARNING</b> short form percent escapes are NOT performed when the percentis after a number.  For example..   <code>10%x10</code> will not expand the<code>%x</code> as a percent escape.  If you specifically want to expanded the'x', use the long form which overrides this special case. EG:<code>10%[x]10</code>. </p><p>Also be warned that calculated attributes can take some time to generate,especially for large images.</p><h3>Long Form Attribute Percent Escapes</h3><p>In addition to the above specific and calculated attributes are recognizedwhen enclosed in braces (long form):</p><pre class="text">   %[base]                 base filename, no suffixes (as %t)   %[channels]             ??? channels in use - colorspace ???   %[colorspace]           Colorspace of Image Data (excluding transparency)   %[copyright]            ImageMagick Copyright String   %[depth]                depth of image for write (as input unless changed)   %[deskew:angle]         The deskew angle in degrees of rotation   %[directory]            directory part of filename (as %d)   %[distortion]           how well an image resembles a reference image (<a href="command-line-options.html#compare" >-compare</a>)   %[extension]            extention part of filename (as %e)   %[gamma]                value of image gamma   %[group]                ??? window group ???   %[height]               original height of image (when it was read in)   %[kurtosis]             CALCULATED: kurtosis statistic of image   %[label]                label meta-data property   %[magick]               coder used to read image (not the file suffix)   %[max]                  CALCULATED: maximum value statistic of image   %[maxima]               CALCULATED: maximum value statistic of image   %[mean]                 CALCULATED: average value statistic of image   %[min]                  CALCULATED: minimum value statistic of image   %[minima]               CALCULATED: minimum value statistic of image   %[name]                 The original name of the image   %[opaque]               CALCULATED: is image fully-opaque?   %[orientation]          image orientation   %[page]                 Virtual canvas (page) geometry   %[profile:icc]          ICC profile info   %[profile:icm]          ICM profile info   %[profiles]             list of any embedded profiles   %[resolution.x]         X density (resolution) without units   %[resolution.y]         Y density (resolution) without units   %[scene]                original scene number of image in input file   %[size]                 original size of image (when it was read in)   %[skewness]             CALCULATED: skewness statistic of image   %[standard-deviation]   CALCULATED: standard deviation statistic of image   %[standard_deviation]   CALCULATED: standard deviation statistic of image   %[type]                 CALCULATED: image type   %[unique]               unique temporary filename ???   %[units]                image resolution units   %[version]              Version Information of this running ImageMagick   %[width]                original width of image (when it was read in)   %[zero]                 zero (unique filename for delegate use)</pre><h3>Properties</h3><p>All other long forms of percent escapes (not single letter long form) arehandled in a case insensitive manner. Such escapes will will attempt to lookup that name specific data sources. </p><p>The primary search space (if not a specific attribute listed above) isa free-form property string.  Such strings are associated and saved withimages, and are typically set using either the <a href="command-line-options.html#set" >-set</a>CLI option (or API equivelent), or from special convenience options(such as <a href="command-line-options.html#label">-label</a>, <a href="command-line-options.html#comment">-comment</a>, <a href="command-line-options.html#caption">-caption</a>). </p><p>These convenience options are globally saved (as 'global options' so thay canbe set before images are read), and later are transfered to the property ofindividual images, only when they are read in. At that time any internalpercent escape present is then handled. </p><p>To change a property of an image already in memory, you need to use <a href="command-line-options.html#set" >-set</a>.</p><p>Note that properties, like attributes (and profiles), are saved withimages when write, if the image file format allows. </p><h3>Artifacts and Options</h3><p>The previous percent escapes are associated with the primary Attributes andProperties. Which is the original and primary focus of such percent escapes.</p><p>However there are many operational settings that are used by variousImageMagick operators that can be useful to set and later access.  Theseconsist of per-image Artifacts, and Global options (associated with a list ofimages, typically the current image list).</p><p>Note that the major difference between an artifact and a property is thatartifacts, being an internal operational setting, is not saved with images (ifsuch is possible). </p><p>For example when you use <code>-define 'distort:viewport=100x100'</code> youare in fact generating a global option, which the <a href="command-line-options.html#distort">-distort</a> operator will use to modify its behaviour (distorted outputimage 'view'). </p><p>An Option is essentually a Artifact that has been stored globally as partof a list of images (specifically a 'Wand' of images). As such they areidentical, in that a Option, is simply a global Artifact for all theassociated images. </p><p>As such you can use <code>-set 'option:distort:viewport' '100x100'</code> toachieve the same result of setting a Artifact for the disort operation to use.</p><p><b>Internal Handling of a Global Option...</b></p><p>The Core library ('MagickCore') does not generally directly understandGlobal Options. As such, continuing the previous example, the<code>DistortImages()</code> function only looks up an artifact to discover ifa 'viewport' has been provided to it. </p><p>How Global Options are used when a library function requests an Artifact isone of the key differences between IMv6 and IMv7.</p><p>In <b>ImageMagick version 6</b>... before each operator, any global Optionsare copied to per-image Artifacts, for every image in the current image list.This allows various operators to find its operational 'defines' or Artifacts.</p><p>In <b>ImageMagick version 7</b>... sets a link back to the global optionsdata, so that if a specific per-image Artifact is not found , then it willlook for a equivelent global Option for that image list.  directly.  Thissaves coping these free-form options into artifacts repeatally, and means youcan now separally define a global option for a list, and a individualoverriding artifact for a specific image in that list. </p><p>Note that many API's that do not use Wands (PerlMagick for example usingarrays of images rather than a Wand). In these API's you will not have GlobalOptions, only per-image Artifacts. </p><p>In summery a Global Option, if available, is equivelent to a per-imageArtifact. </p><h3>Glob-Pattern Listing of Properties, Artifacts and Options</h3><p>The <em class="arg">setting</em> can contain a glob pattern. As such you cannow list all free-form string properties, artifacts, and options, (but notspecific image attributes) using...</p><pre class="text">  convert ... \          -print "__Properties__\n%[*]" \          -print "__Artifacts__\n%[artifact:*]" \          -print "__Options__\n%[option:*]" \          ...</pre><!--  This does not format right!<p class='crt'><span class="crtprompt"> $ </span><span class='crtin'>convert ... \ </span><span class='crtout'>        -print "__Properties__\n%[*]" \ </span><span class="crtprompt"> $ </span><span class='crtin'>        -print "__Artifacts__\n%[artifact:*]" \ </span><span class='crtout'>        -print "__Options__\n%[option:*]" \ </span><span class="crtprompt"> $ </span><span class='crtin'>        ...</span></p>--><p> The format of glob patterns are very specific and as such is generallyonly used to list specific settings, such as when debugging, rather than beingused for image processing use. </p><h3>Calculated Percent Escape Prefixes</h3><p>There are some special prefixes (before the first ':') which performscalculations based on the user provided string that follows that prefix.  Forexample you can do a numerical calculation use <code>%[fx:...]</code> toevaluate the given <a href="fx.html">FX</a> expressions:</p><pre class="text">   %[fx:<em class="arg">expression</em>]</pre><p>Use <code>pixel:</code> to evaluate a pixel color as defined by the <a href="fx.html">FX</a>expression:</p><pre class="text">   %[pixel:<em class="arg">expression</em>]</pre><h3>Specific Profile Percent Escape Prefixes</h3><p>You can also use the following special formatting syntax to print EXIFmage meta-data that was included in the image read in:</p><pre class="text">   %[EXIF:<em class="arg">tag</em>]</pre><p>Choose <em class="arg">tag</em> from the following:</p><pre class="text">   *  (print all EXIF tags, in keyword=data format)   !  (print all EXIF tags, in tag_number data format)   #hhhh (print data for EXIF tag #hhhh)   ImageWidth   ImageLength   BitsPerSample   Compression   PhotometricInterpretation   FillOrder   DocumentName   ImageDescription   Make   Model   StripOffsets   Orientation   SamplesPerPixel   RowsPerStrip   StripByteCounts   XResolution   YResolution   PlanarConfiguration   ResolutionUnit   TransferFunction   Software   DateTime   Artist   WhitePoint   PrimaryChromaticities   TransferRange   JPEGProc   JPEGInterchangeFormat   JPEGInterchangeFormatLength   YCbCrCoefficients   YCbCrSubSampling   YCbCrPositioning   ReferenceBlackWhite   CFARepeatPatternDim   CFAPattern   BatteryLevel   Copyright   ExposureTime   FNumber   IPTC/NAA   EXIFOffset   InterColorProfile   ExposureProgram   SpectralSensitivity   GPSInfo   ISOSpeedRatings   OECF   EXIFVersion   DateTimeOriginal   DateTimeDigitized   ComponentsConfiguration   CompressedBitsPerPixel   ShutterSpeedValue   ApertureValue   BrightnessValue   ExposureBiasValue   MaxApertureValue   SubjectDistance   MeteringMode   LightSource   Flash   FocalLength   MakerNote   UserComment   SubSecTime   SubSecTimeOriginal   SubSecTimeDigitized   FlashPixVersion   ColorSpace   EXIFImageWidth   EXIFImageLength   InteroperabilityOffset   FlashEnergy   SpatialFrequencyResponse   FocalPlaneXResolution   FocalPlaneYResolution   FocalPlaneResolutionUnit   SubjectLocation   ExposureIndex   SensingMethod   FileSource   SceneType</pre><p>Surround the format specification with quotation marks to prevent yourshell from misinterpreting any spaces and square brackets.</p><p>The following special formatting syntax can be used to print IPTCinformation contained in the file:</p><pre class="text">   %[IPTC:<em class="arg">dataset</em>:<em class="arg">record</em>]</pre><p>Select <em class="arg">dataset</em> and <em class="arg">record</em> fromthe following:</p><pre class="text">    Envelope Record      1:00  Model Version      1:05  Destination      1:20  File Format      1:22  File Format Version      1:30  Service Identifier      1:40  Envelope Number      1:50  Product ID      1:60  Envelope Priority      1:70  Date Sent      1:80  Time Sent      1:90  Coded Character Set      1:100  UNO (Unique Name of Object)      1:120  ARM Identifier      1:122  ARM Version    Application Record      2:00  Record Version      2:03  Object Type Reference      2:05  Object Name (Title)      2:07  Edit Status      2:08  Editorial Update      2:10  Urgency      2:12  Subject Reference      2:15  Category      2:20  Supplemental Category      2:22  Fixture Identifier      2:25  Keywords      2:26  Content Location Code      2:27  Content Location Name      2:30  Release Date      2:35  Release Time      2:37  Expiration Date      2:38  Expiration Time      2:40  Special Instructions      2:42  Action Advised      2:45  Reference Service      2:47  Reference Date      2:50  Reference Number      2:55  Date Created      2:60  Time Created      2:62  Digital Creation Date      2:63  Digital Creation Time      2:65  Originating Program      2:70  Program Version      2:75  Object Cycle      2:80  By-Line (Author)      2:85  By-Line Title (Author Position) [Not used in Photoshop 7]      2:90  City      2:92  Sub-Location      2:95  Province/State      2:100  Country/Primary Location Code      2:101  Country/Primary Location Name      2:103  Original Transmission Reference      2:105  Headline      2:110  Credit      2:115  Source      2:116  Copyright Notice      2:118  Contact      2:120  Caption/Abstract      2:122  Caption Writer/Editor      2:125  Rasterized Caption      2:130  Image Type      2:131  Image Orientation      2:135  Language Identifier      2:150  Audio Type      2:151  Audio Sampling Rate      2:152  Audio Sampling Resolution      2:153  Audio Duration      2:154  Audio Outcue      2:200  ObjectData Preview File Format      2:201  ObjectData Preview File Format Version      2:202  ObjectData Preview Data    Pre-ObjectData Descriptor Record      7:10   Size Mode      7:20   Max Subfile Size      7:90   ObjectData Size Announced      7:95   Maximum ObjectData Size    ObjectData Record      8:10   Subfile    Post ObjectData Descriptor Record      9:10   Confirmed ObjectData Size</pre></div>
 </div>
 
 <div id="linkbar">
diff --git a/www/jp2.html b/www/jp2.html
index f361994..8aa1328 100644
--- a/www/jp2.html
+++ b/www/jp2.html
@@ -279,7 +279,6 @@
 <dt class="doc">jp2:progression-order=<em>x</em></dt>
 <dd>choose from LRCP, RLCP, RPCL, PCRL or CPRL.</dd>
 </dl>
-</dl>
 
 </div>
 
diff --git a/www/search.html b/www/search.html
index 3044acc..444e746 100644
--- a/www/search.html
+++ b/www/search.html
@@ -261,7 +261,6 @@
     s.parentNode.insertBefore(gcse, s);
   })();
 </script>
-<gcse:search></gcse:search>
 </div>
 
 </div>
-- 
2.1.4

